## 问题诊断
- 现状：能看见单个轨道（节点点击默认 m=0），无法同时看到 p 的 3 个取向或 d 的 5 个取向。
- 原因：
  1) 点击能级节点时调用 `addOrbitalOverlay(n,l,0)`，只渲染一个 m；
  2) 即使勾选“叠加显示多轨道”，代码也没有把同一亚层所有 m 一并加入；
  3) `uIso` 阈值偏大时，体渲染的等密度面可能过薄/不可见；不同 l 的最佳阈值不同；
  4) 视角/裁剪或体积步长也会影响可见性。

## 修改目标
- 支持一键显示当前亚层的全部 m 取向（p：m=−1,0,1；d：m=−2,−1,0,1,2）。
- 保持构造原理动画逻辑不变，叠加仅用于可视化查看多取向。
- 提供自适应等密度阈值建议，提升初始可见性。
- 保留现有 UI 风格与性能（60fps）。

## 具体实现
### 1) 能级图交互改造
- 在 `scripts/main.js`：
  - 新增函数 `addAllM(n,l)`：遍历 m 列表（2l+1），对每个 m 调 `addOrbitalOverlay(n,l,m)`。
  - 修改节点点击：
    - 若“叠加显示多轨道”已勾选，则点击节点调用 `addAllM(n,l)`；
    - 否则保持原行为，仅添加 m=0。

### 2) 新增按钮（可选强化）
- 在能级图标题右侧新增两个按钮：
  - `显示 p 全集`：调用 `addAllM(当前选定 n, 1)`；
  - `显示 d 全集`：调用 `addAllM(当前选定 n, 2)`；
- 按钮只影响 3D 叠加显示，不改变动画序列。

### 3) 等密度阈值自适应建议
- 在 `addAllM` 内：
  - 若当前 `uIso` > 推荐值，则短暂弹出提示（不改变值）；推荐范围：
    - s：0.7–0.9，p：0.55–0.8，d：0.5–0.75，f：0.45–0.7。
- 可选：按 l 设置默认初始阈值（仅在首次加载时生效）。

### 4) 视角与步长微调（不改默认）
- 提供“重置视角”方法，确保能框选到所有瓣形：将相机置于 `z≈4.2`，`OrbitControls.reset()`。
- 保持 `uStep=0.02` 和 `uMaxSteps=220`；如低端设备无法显示，可提示用户把 `uIso` 调低或步长调高。

## 测试用例
- 勾选“叠加显示多轨道”：
  - 点击 `2p` 节点，应一次性显示 3 个 p 取向（x、y、z）；
  - 点击 `3d` 节点，应一次性显示 5 个 d 取向（`d(z^2), d(xz), d(yz), d(x^2−y^2), d(xy)`）。
- 取消勾选后再点击节点，仅显示单个 m=0 取向。
- 调整 `等密度阈值` 至推荐范围，观察所有瓣形清晰可见。

## 不改变的部分
- 构造原理/洪德/Pauli 动画与箭头联动逻辑不变。
- 悬停提示、搜索筛选、周期表点击取消选中等交互不变。
- 现有体渲染着色器与性能优化不变。

## 交付与验证
- 完成代码改造后，在 Chrome/Edge/Firefox 验证显示完整的 p/d 轨道集合；
- 在 60fps 下流畅运行；
- 提供简要使用提示：勾选叠加→点击能级节点→调阈值至推荐范围。